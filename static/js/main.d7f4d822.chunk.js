(this["webpackJsonpreact-dungeon"]=this["webpackJsonpreact-dungeon"]||[]).push([[0],{24:function(e){e.exports=JSON.parse('{"name":"OFFICE","script":["It\'s been a looong day","I dunno what to do","Am I going to rest or do I spent some of the billions I have ?","I mean it feels like I\'m not able to interact with anything so it\'s going to be tough to spend those"]}')},25:function(e){e.exports=JSON.parse('{"name":"PARTY","script":["Oh there\'s a lot of people (...ye you\'ve to imagine that...)","I wish I could get a drink but the dev didn\'t code the interaction","I\'m not even able to see anybody","I\'ve to invent glasses that allows you to see the things that they didn\'t code","I mean I\'m already 16pixel wide, isn\'t that enought ?","You didn\'t had to put me in an empty but VERY noisy rooom","Can I leave please..."]}')},26:function(e){e.exports=JSON.parse('{"name":"PHONE","script":["ALLO?"]}')},28:function(e){e.exports=JSON.parse('{"a":[[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}],[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}],[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"wall","rotation":0,"theme":"PARTY"},{"isCollider":false,"type":"wall","rotation":0,"theme":"PARTY"},{"isCollider":false,"type":"wall","rotation":0,"theme":"PARTY"},{"isCollider":false,"type":"wall","rotation":0,"theme":"PARTY"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}],[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"wall","rotation":0,"theme":"PARTY"},{"isCollider":false,"type":"wall","rotation":0,"theme":"PARTY"},{"isCollider":false,"type":"wall","rotation":0,"theme":"PARTY"},{"isCollider":false,"type":"wall","rotation":0,"theme":"PARTY"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}],[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}],[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}],[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}],[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}],[{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"},{"isCollider":false,"type":"empty","rotation":0,"theme":"default","event":"none"}]]}')},40:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),l=n(23),a=n.n(l),r=n(14),s=n(5),d=n.p+"static/media/officeSound.87c95516.ogg",c=n.p+"static/media/partySound1.ab8e85e1.ogg",f=n.p+"static/media/phone.78d9a8bf.mp3",p=n(15),A=n(11),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAExJREFUKJFjYKAUMMIY//+jCDOiKUCVRlbCiF0aoYSJkBtYMG1FNZOgCTiciBBjQhfE7mCoMEIBQhnBgCIWQAxHJmEyTJgK8ZqCqQgACjor75lRBNQAAAAASUVORK5CYII=",u=n(24),h=[n(25),n(26),u];function y(e){var t;return t={name:"default",length:0},h.forEach((function(n){n.name===e&&(t=Object(A.a)(Object(A.a)({},n),{},{length:n.script.length}))})),t}var j=i.a.createContext([]),C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAFJJREFUKJGtkdsKACAIQ530/7+8HkLMS0HQHiLW2UQS+SySvD77adKn+nprGw4jSKCDSkPeQrv8Dmpvp4aad1irFQXPkyJAxIDhWRuToeMHLX8C5WQx9LeKeUIAAAAASUVORK5CYII=",b=n(12),v=n(1),O=Object(b.a)({btnContainer:{width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",border:"solid 3px #fff",margin:"0px 8px"},arrow:{imageRendering:"pixelated",width:30,height:30,paddingBottom:4}}),g=function(e){var t=e.onDownClick,n=e.onLeftClick,o=e.onRightClick,i=e.onUpClick,l=O();return Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:24},children:[Object(v.jsx)("div",{className:l.btnContainer,onClick:i,children:Object(v.jsx)("img",{src:C,className:l.arrow,alt:"Up btn"})}),Object(v.jsxs)("div",{style:{display:"flex",marginTop:16},children:[Object(v.jsx)("div",{className:l.btnContainer,onClick:n,style:{transform:"rotate(-90deg)"},children:Object(v.jsx)("img",{src:C,className:l.arrow,alt:"Up btn"})}),Object(v.jsx)("div",{className:l.btnContainer,onClick:t,style:{transform:"rotate(180deg)"},children:Object(v.jsx)("img",{src:C,className:l.arrow,alt:"Up btn"})}),Object(v.jsx)("div",{className:l.btnContainer,onClick:o,style:{transform:"rotate(90deg)"},children:Object(v.jsx)("img",{src:C,className:l.arrow,alt:"Up btn"})})]})]})},x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",w=function(e){e.isCollider;var t=e.type,n=e.rotation;return Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)("img",{src:I(t),style:{width:"100%",height:"100%",imageRendering:"pixelated",transform:"rotate(".concat(n,"deg)")},alt:"tile"})})};function I(e){switch(e){case"champain":return x;case"wall":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAACVJREFUOI1jYKAQMP7///8/RSYQMoCQPBNFtjNQwwujYBQMDwAAEYoP9c9NQxIAAAAASUVORK5CYII=";case"corner":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERJREFUOI3tkjEOACAMAg/j/79cVxOTWoODg+w9IBRMCSAiwqJkgB28Wc5ArzhmKRYAgCRVE9yrYC0xH5+C7Aof8MIfDBDjJAJV1YiwAAAAAElFTkSuQmCC";default:return x}}var R=Object(b.a)({root:{position:"relative",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"1fr 1fr 1fr",padding:16,border:"solid 6px #FFF"},playerContainer:{position:"absolute",zIndex:1e3,display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}}),E=function(e){var t=e.renderedTiles,n=e.sprite,o=R();return Object(v.jsxs)("div",{className:o.root,style:{width:300,height:300},children:[t.map((function(e,t){return Object(v.jsx)(w,Object(A.a)(Object(A.a)({},e),{},{i:t}))})),Object(v.jsx)("div",{className:o.playerContainer,children:Object(v.jsx)("img",{style:{width:50,height:"auto",imageRendering:"pixelated"},src:n,alt:"elon"})})]})},S=function(e){var t=e.spawn,n=e.onEvent,i=Object(o.useContext)(j),l=Object(o.useState)(m),a=Object(s.a)(l,2),r=a[0],d=a[1],c=Object(o.useState)(y("")),f=Object(s.a)(c,2),u=f[0],h=f[1],C=Object(o.useState)(0),b=Object(s.a)(C,2),O=b[0],x=b[1],w=Object(o.useState)({PARTY:0,default:0}),I=Object(s.a)(w,2),R=I[0],S=I[1];Object(o.useEffect)((function(){O<u.length&&u.script&&(n("script",{author:"elon",script:u.script[O]}),x((function(e){return e+1})))}),[u,O,n]);var N=Object(o.useState)(t[0]),k=Object(s.a)(N,2),U=k[0],Q=k[1],B=Object(o.useState)(t[1]),Y=Object(s.a)(B,2),F=Y[0],K=Y[1],J=Object(o.useState)([]),T=Object(s.a)(J,2),P=T[0],V=T[1];return Object(o.useLayoutEffect)((function(){var e=[i[U[0]][F[0]],i[U[0]][F[1]],i[U[0]][F[2]],i[U[1]][F[0]],i[U[1]][F[1]],i[U[1]][F[2]],i[U[2]][F[0]],i[U[2]][F[1]],i[U[2]][F[2]]];"PHONE"===e[4].theme&&n("party_invinte",{}),V(e),h((function(t){var o=y(e[4].theme).name;return t.name!==o&&(n("themeChange",{theme:o}),S((function(e){return Object(A.a)(Object(A.a)({},e),{},Object(p.a)({},t.name,O))})),x(R[t.name])),y(e[4].theme)}))}),[U,F,i,R,O,n]),Object(v.jsxs)("div",{children:[Object(v.jsx)(E,{renderedTiles:P,sprite:r}),Object(v.jsx)(g,{onLeftClick:function(){d("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAE9JREFUKJGlUEEKACAIa9H/v7wOJeKwDPKiuLGNtfY78JMMAIQQYafgBBulVxmGeqpaqZAQgAOBNPmdH1eLoodo8zbkymDb/qGHvE/R0DwTqxgiCU7sLg0AAAAASUVORK5CYII="),P[3].isCollider||K((function(e){var t=[];return i[e[0]-1]?e.forEach((function(e){return t.push(e-1)})):t=e,t}))},onRightClick:function(){d("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAFRJREFUKJGlkEsKACAIRFW8/5VtUeYHxSA3ifNmlAB+C7URCWNMQJQ9grVsCE03cB1sqWNCAMyfgC3gPdgfTb33KNZ2X/Vae7eIvjrnCm3i1eX9AAtvqCIJeHpv4AAAAABJRU5ErkJggg=="),P[5].isCollider||K((function(e){var t=[];return i[e[2]+1]?e.forEach((function(e){return t.push(e+1)})):t=e,t}))},onUpClick:function(){d("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAENJREFUKJFjYKAUMMIY//+jCDOiKUCVRlbCiF0aoYSJkBsGgwLivImpBBFQBAHcCkZGhBmMjP//w8wg6EgkADMB1TUA7McUD917vlEAAAAASUVORK5CYII="),P[1].isCollider||Q((function(e){var t=[];return i[e[0]-1]?e.forEach((function(e){return t.push(e-1)})):t=e,t}))},onDownClick:function(){d(m),P[7].isCollider||Q((function(e){var t=[];return i[e[2]+1]?e.forEach((function(e){return t.push(e+1)})):t=e,t}))}})]})},N=n(28),k=n(3),U=Object(b.a)({superroot:{position:"absolute",zIndex:100},root:{display:"flex",flexDirection:"column",width:300,height:300,background:"lightgray",opacity:.7,color:"black"}}),Q=function(e){var t=e.currentTileParameter,n=e.onEditValidation,o=e.pos,i=e.children,l=U();function a(e,t){n(e,t)}var r=function(e){var t=e.keyname,n=e.value;return Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(v.jsx)("p",{children:t}),Object(v.jsx)("div",{style:{display:"flex"},children:function(){if("boolean"==typeof n)return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{onClick:function(){return a(t,!0)},children:"true"}),Object(v.jsx)("button",{onClick:function(){return a(t,!1)},children:"false"})]});if("type"===t){return Object(v.jsx)("div",{children:["empty","wall","corner"].map((function(e){return Object(v.jsx)("button",{onClick:function(){return a(t,e)},children:e})}))})}if("rotation"===t){return Object(v.jsx)("div",{children:[0,90,180,-90].map((function(e){return Object(v.jsx)("button",{onClick:function(){return a(t,e)},children:e})}))})}if("theme"===t){return Object(v.jsx)("div",{children:["default","PARTY","PHONE","OFFICE"].map((function(e){return Object(v.jsx)("button",{onClick:function(){return a(t,e)},children:e})}))})}if("event"===t){return Object(v.jsx)("div",{children:["none","party_invite"].map((function(e){return Object(v.jsx)("button",{onClick:function(){return a(t,e)},children:e})}))})}return Object(v.jsx)("div",{})}()})]})};return Object(v.jsx)("div",{className:l.superroot,style:{left:o.x,top:o.y},children:Object(v.jsxs)("div",{className:l.root,children:[Object.entries(t).map((function(e){return Object(v.jsx)(r,{keyname:e[0],value:e[1]},e[0])})),i]})})},B=function(e){var t=e.onTileChange,n=Object(o.useContext)(j),i=Object(o.useState)({row:0,column:0}),l=Object(s.a)(i,2),a=l[0],d=l[1],c=Object(o.useState)(!1),f=Object(s.a)(c,2),p=f[0],m=f[1],u=Object(o.useState)({x:0,y:0}),h=Object(s.a)(u,2),y=h[0],C=h[1];return Object(v.jsxs)(v.Fragment,{children:[p&&Object(v.jsx)("div",{style:{position:"absolute",left:10,top:10,zIndex:100,background:"darkgreen",color:"white"},children:Object(v.jsx)(Q,{pos:y,currentTileParameter:n[a.row][a.column],onEditValidation:function(e,n){t(a,e,n)},children:Object(v.jsx)("button",{onClick:function(){m(!1)},children:"close"})})}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"column",overflow:"scroll"},children:n.map((function(e,t){return Object(v.jsx)("div",{style:{display:"flex"},children:e.map((function(e,n){return Object(v.jsxs)("div",{style:{width:100,height:100,fontSize:8,display:"flex",flexDirection:"column"},onClick:function(e){return function(e,t,n){d({row:t,column:n}),C({x:e.clientX,y:e.clientY}),m(!0)}(e,t,n)},children:[Object(v.jsxs)("div",{style:{display:"flex"},children:["isCollider: ",Object(v.jsx)("div",{style:{height:8,width:8,background:e.isCollider?"red":"green"}})]}),Object(v.jsxs)("div",{style:{display:"flex"},children:["type: ",e.type]}),Object(v.jsxs)("div",{style:{display:"flex"},children:["rotation: ",e.rotation]}),Object(v.jsxs)("div",{style:{height:30,width:30},children:["i\xb2",Object(v.jsx)(w,Object(A.a)({},e))]}),Object(v.jsxs)("div",{style:{display:"flex"},children:["theme: ",e.theme]}),Object(v.jsxs)("div",{style:{display:"flex"},children:["event: ",e.event]})]},n)}))},t)}))}),Object(v.jsx)(r.b,{to:"/",children:"Test the map"})]})},Y=n(16),F=Object(b.a)({root:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100vw",height:"100vh",background:"black",color:"white"},textContainer:{boxSizing:"border-box",padding:16,width:332,height:100,border:"6px solid #FFFFFF",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:24,"& > p ":{margin:0,padding:0}}});var K=function(){var e=F(),t=Object(o.useState)(N.a),n=Object(s.a)(t,2),i=n[0],l=n[1],a=Object(o.useState)(""),p=Object(s.a)(a,2),A=p[0],m=p[1],u=Object(o.useState)({author:"",content:""}),h=Object(s.a)(u,2),y=h[0],C=h[1],b=Object(Y.a)(c,{volume:.3}),O=Object(s.a)(b,2),g=O[0],x=O[1].stop,w=Object(Y.a)(d,{volume:.3}),I=Object(s.a)(w,2),R=I[0],E=I[1].stop,U=Object(Y.a)(f,{volume:.5}),Q=Object(s.a)(U,2),K=Q[0],J=Q[1].stop;return Object(v.jsx)("div",{className:e.root,children:Object(v.jsx)(j.Provider,{value:i,children:Object(v.jsxs)(k.c,{children:[Object(v.jsxs)(k.a,{path:"/",exact:!0,children:[Object(v.jsx)("div",{className:e.textContainer,style:{visibility:""===y.author?"hidden":"visible"},children:""!==y.author&&Object(v.jsxs)("p",{children:[y.author," : ",y.content]})}),Object(v.jsx)(S,{onEvent:function(e,t){console.log(e,t);var n={author:"",content:""};"script"===e&&(n={author:t.author,content:t.script}),"themeChange"===e&&("PARTY"===t.theme?g():"PHONE"===t.theme?K():"OFFICE"===t.theme?R():(E(),J(),x())),C(n)},spawn:[[0,1,2],[0,1,2]]}),Object(v.jsx)(r.b,{to:"/editor",style:{position:"absolute",color:"white",opacity:.2,bottom:10,textDecoration:"none"},children:"Map editor"})]}),Object(v.jsxs)(k.a,{path:"/editor",children:[Object(v.jsx)(B,{onTileChange:function(e,t,n){console.log(e,t,n),l((function(o){var i=o;return i[e.row][e.column][t]=n,m("data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(i))),i}))}}),Object(v.jsx)("a",{style:{position:"absolute",bottom:10,right:10,background:"red"},type:"button",href:A,download:"map.json",children:"Export"})]})]})})})};a.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(r.a,{children:Object(v.jsx)(K,{})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.d7f4d822.chunk.js.map