{"version":3,"sources":["assets/sounds/officeSound.ogg","assets/sounds/partySound1.ogg","assets/sounds/phone.mp3","assets/player/front.png","assets/theme/theme.type.ts","store/Map.context.tsx","assets/arrow.png","components/Controls.tsx","assets/tiles/empty.png","components/Tile.tsx","assets/tiles/wall.png","assets/tiles/corner.png","components/TilesRenderer.tsx","components/Game.tsx","assets/player/left.png","assets/player/right.png","assets/player/back.png","tool/EditPannel.tsx","tool/MapCreator.tsx","App.tsx","index.tsx"],"names":["themes","office","themeFinder","name","currentTheme","length","forEach","theme","script","FullMapInfo","React","createContext","useStyles","createUseStyles","btnContainer","width","height","display","alignItems","justifyContent","border","margin","arrow","imageRendering","paddingBottom","Controls","onDownClick","onLeftClick","onRightClick","onUpClick","classes","style","flexDirection","marginTop","className","onClick","src","alt","transform","TileComponent","isCollider","type","rotation","renderImage","empty","root","position","gridTemplateColumns","gridTemplateRows","padding","playerContainer","zIndex","TileRenderer","renderedTiles","sprite","map","tile","i","GAME_SIZE","Game","spawn","onEvent","useContext","useState","front","playerSprite","setPlayerSprite","setCurrentTheme","currentThemeCounter","setCurrentThemeCounter","themeVisited","setThemeVisited","useEffect","author","ct","currentRowPos","setCurrentRowPos","currentCulumnPos","setCurrentCulumnPos","currentTileset","setCurrentTileset","useLayoutEffect","tempTileset","newThemeName","ancienPos","nextPost","row","push","superroot","background","opacity","color","EditPannel","currentTileParameter","onEditValidation","pos","children","handleParametersInput","keyname","value","TileParameter","ParameterInput","left","x","top","y","Object","entries","keyValuePair","MapCreator","onTileChange","column","selectedTile","setSelectedTile","valueSelector","setValueSelector","mousePos","setMousePos","key","overflow","rowIndex","columnIndex","fontSize","e","clientX","clientY","handleTileClick","event","to","textContainer","boxSizing","marginBottom","App","currentMap","setCurrentMap","dataStr","setDataStr","content","currentPhrase","setCurrentPhrase","useSound","partySound","volume","playParty","stopParty","stop","officeSound","playOffice","stopOffice","phoneSound","playPhone","stopPhone","Provider","path","exact","visibility","console","log","bottom","textDecoration","tilePos","ancienMap","encodeURIComponent","JSON","stringify","right","href","download","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d7f4d822.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/officeSound.87c95516.ogg\";","export default __webpack_public_path__ + \"static/media/partySound1.ab8e85e1.ogg\";","export default __webpack_public_path__ + \"static/media/phone.78d9a8bf.mp3\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAExJREFUKJFjYKAUMMIY//+jCDOiKUCVRlbCiF0aoYSJkBtYMG1FNZOgCTiciBBjQhfE7mCoMEIBQhnBgCIWQAxHJmEyTJgK8ZqCqQgACjor75lRBNQAAAAASUVORK5CYII=\"","import office from './office.json';\nimport party from './party.json';\nimport phone from './phone.json';\n\nexport interface GameTheme {\n  name: string;\n  script?: string[];\n  length: number\n}\n\nconst themes = [party, phone, office];\n\nexport function themeFinder(name: string): GameTheme{\n  let currentTheme: GameTheme;\n  currentTheme = { name: 'default', length: 0}\n  themes.forEach((theme) => {\n    if (theme.name === name) {\n      currentTheme = {...theme, length: theme.script.length };\n    }\n  })\n\n  return currentTheme;\n}","import React from 'react';\n\nexport interface Tile {\n  isCollider: boolean;\n  type: string;\n  rotation: number;\n  theme: string;\n  event?: string;\n}\n\nexport type TileKeys = 'isCollider' | 'type' | 'rotation'\n\nexport type Row = Tile[];\nexport type Map = Row[];\n\n//this context store the map and allow from map editing to testing.\nexport const FullMapInfo = React.createContext<Map>([]);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAFJJREFUKJGtkdsKACAIQ530/7+8HkLMS0HQHiLW2UQS+SySvD77adKn+nprGw4jSKCDSkPeQrv8Dmpvp4aad1irFQXPkyJAxIDhWRuToeMHLX8C5WQx9LeKeUIAAAAASUVORK5CYII=\"","import arrow from 'assets/arrow.png';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  btnContainer: {\n    width: 60,\n    height: 60,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    border: 'solid 3px #fff',\n    margin: '0px 8px'\n  },\n  arrow: {\n    imageRendering: 'pixelated',\n    width: 30,\n    height: 30,\n    paddingBottom: 4,\n  }\n})\n\nexport interface ControlsProps {\n  onLeftClick: () => void;\n  onRightClick: () => void; \n  onUpClick: () => void;\n  onDownClick: () => void; \n}\n\nexport const Controls:React.FC<ControlsProps> = ({\n  onDownClick, onLeftClick, onRightClick, onUpClick\n}) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: 24\n      }}\n    >\n      <div className={classes.btnContainer} onClick={onUpClick}>\n        <img src={arrow} className={classes.arrow} alt='Up btn' />\n      </div>\n      <div style={{ display: 'flex', marginTop: 16 }}\n      >\n        <div className={classes.btnContainer} onClick={onLeftClick} style={{transform: 'rotate(-90deg)'}}>\n          <img src={arrow} className={classes.arrow} alt='Up btn' />\n        </div>\n        <div className={classes.btnContainer} onClick={onDownClick} style={{transform: 'rotate(180deg)'}}>\n          <img src={arrow} className={classes.arrow} alt='Up btn' />\n        </div>\n        <div className={classes.btnContainer} onClick={onRightClick} style={{transform: 'rotate(90deg)'}}>\n          <img src={arrow} className={classes.arrow} alt='Up btn' />\n        </div>\n      </div>\n    </div>\n  );\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\"","import corner from 'assets/tiles/corner.png'\nimport empty from 'assets/tiles/empty.png'\nimport wall from 'assets/tiles/wall.png'\nimport React from 'react'\nimport { Tile } from 'store/Map.context'\n\n\nexport interface TileComponentProps extends Tile {\n  i?: number\n}\n\nexport const TileComponent:React.FC<TileComponentProps> = ({\n  isCollider, type, rotation, \n}) => {\n  \n  return (\n    <div style={{display: 'flex', alignItems:'center', justifyContent:'center'}}>\n      <img src={renderImage(type)} style={{width:'100%', height:'100%', imageRendering:'pixelated', transform:`rotate(${rotation}deg)`}} alt='tile'/>\n    </div>\n  )\n}\n\nfunction renderImage(type: string): string{\n  switch (type) {\n    case 'champain':\n      return empty;\n    case 'wall':\n      return wall\n    case 'corner':\n      return corner\n    default:\n      return empty\n  }\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAACVJREFUOI1jYKAQMP7///8/RSYQMoCQPBNFtjNQwwujYBQMDwAAEYoP9c9NQxIAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERJREFUOI3tkjEOACAMAg/j/79cVxOTWoODg+w9IBRMCSAiwqJkgB28Wc5ArzhmKRYAgCRVE9yrYC0xH5+C7Aof8MIfDBDjJAJV1YiwAAAAAElFTkSuQmCC\"","\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { Tile } from 'store/Map.context';\nimport { TileComponent } from './Tile';\n\n\nconst useStyles = createUseStyles({\n  root: {\n    position: 'relative',\n    display: 'grid',\n    gridTemplateColumns:'1fr 1fr 1fr',\n    gridTemplateRows:'1fr 1fr 1fr',\n    padding: 16,\n    border: 'solid 6px #FFF'\n  },\n  playerContainer: {\n    position:'absolute',\n    zIndex: 1000,\n    display: 'flex',\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\n\nconst GAME_SIZE = 300;\n\nexport interface TileRenderProps {\n  renderedTiles: Tile[];\n  sprite: string;\n}\n\nexport const TileRenderer:React.FC<TileRenderProps> = ({\n  renderedTiles, sprite\n}) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root} style={{ width: GAME_SIZE, height: GAME_SIZE }}>\n      {renderedTiles.map((tile, i) => <TileComponent {...tile} i={i} />)}\n      <div className={classes.playerContainer}>\n          <img style={{width:(GAME_SIZE/3)/2, height: 'auto', imageRendering:'pixelated'}} src={sprite} alt='elon' />\n      </div>\n    </div>\n  )\n}","import back from 'assets/player/back.png';\nimport front from 'assets/player/front.png';\nimport left from 'assets/player/left.png';\nimport right from 'assets/player/right.png';\nimport { themeFinder } from 'assets/theme/theme.type';\nimport React, { useContext, useEffect, useLayoutEffect, useState } from 'react';\nimport { FullMapInfo, Tile } from 'store/Map.context';\nimport { Controls } from './Controls';\nimport { TileRenderer } from './TilesRenderer';\n\nexport interface GameProps {\n  spawn: [[number, number, number],[number, number, number]]\n  onEvent: (type:string, content: Record<string, any>) => void\n}\n\n// This component get the map from the store, so you can test it while building it.\n// currentTilset is a flat array from 2D and contains all the tile data for the 9tiles around the player\n// currentRowPos and ColumnPos are udpated based on controls inputs \n\n\nexport const Game:React.FC<GameProps> = ({\n  spawn, onEvent\n}) => {\n\n  const map = useContext(FullMapInfo);\n\n  //PLAYER SPRITE (CONTROLED BY MOVEMENT)\n  const [playerSprite, setPlayerSprite] = useState(front);\n\n  //theme state\n  const [currentTheme, setCurrentTheme] = useState(themeFinder(''));\n  const [currentThemeCounter, setCurrentThemeCounter] = useState(0);\n  const [themeVisited, setThemeVisited] = useState<Record<string, any>>({\n    'PARTY': 0,\n    'default': 0\n  });\n\n  useEffect(() => {\n    if (currentThemeCounter < currentTheme.length && currentTheme.script) {\n      onEvent('script', {author:\"elon\", script: currentTheme.script[currentThemeCounter]})\n      setCurrentThemeCounter(ct => ct + 1);\n    } \n  }, [currentTheme, currentThemeCounter, onEvent])\n\n  //spawn[0] = Rows\n  const [currentRowPos, setCurrentRowPos] = useState<number[]>(spawn[0]);\n  //spawn[1] = column\n  const [currentCulumnPos, setCurrentCulumnPos] = useState<number[]>(spawn[1]);\n\n  const [currentTileset, setCurrentTileset] = useState<Tile[]>([]);\n  useLayoutEffect(() => {\n    const tempTileset= [\n      map[currentRowPos[0]][currentCulumnPos[0]], map[currentRowPos[0]][currentCulumnPos[1]], map[currentRowPos[0]][currentCulumnPos[2]],     // 0 1 2\n      map[currentRowPos[1]][currentCulumnPos[0]], map[currentRowPos[1]][currentCulumnPos[1]], map[currentRowPos[1]][currentCulumnPos[2]],     // 3 4 5\n      map[currentRowPos[2]][currentCulumnPos[0]], map[currentRowPos[2]][currentCulumnPos[1]], map[currentRowPos[2]][currentCulumnPos[2]]      // 6 7 8\n    ]\n\n    if (tempTileset[4].theme === 'PHONE') {\n      onEvent('party_invinte', {})\n    }\n    \n    setCurrentTileset(tempTileset)\n    setCurrentTheme((theme) => {\n      const newThemeName = themeFinder(tempTileset[4].theme).name;\n      if (theme.name !== newThemeName ){\n        onEvent('themeChange', {\n          theme: newThemeName\n        })\n        setThemeVisited((themes) => { return {\n          ...themes,\n          [theme.name]: currentThemeCounter,\n        }})\n        setCurrentThemeCounter(themeVisited[theme.name]);\n      }\n      return themeFinder(tempTileset[4].theme)\n    })\n  },[currentRowPos, currentCulumnPos, map, themeVisited, currentThemeCounter, onEvent])\n  \n  function handleDown() {\n    setPlayerSprite(front);\n    if (!currentTileset[7].isCollider){\n      setCurrentRowPos(ancienPos => {\n        let nextPost:number[] = [];\n        //map[i] == Row; donc ici on check si map[i + 1] existe avant de faire row + 1\n        // ancienPos[2] reprensente la derniere ligne affiché donc ancienPos[2] + 1 est la prochaine. (c'est elle qui doit exister)\n        if (map[ancienPos[2] + 1]) {\n          ancienPos.forEach((row) => nextPost.push(row + 1))\n        } else {\n          nextPost = ancienPos;\n        }\n        return nextPost;\n      })\n    }\n  }\n\n  function handleUp() {\n    setPlayerSprite(back)\n    //currenTileset[1] is the tile above you\n    if (!currentTileset[1].isCollider){\n      //moove\n      setCurrentRowPos(ancienPos => {\n        let nextPost:number[] = [];\n        if (map[ancienPos[0] - 1]) {\n          ancienPos.forEach((row) => nextPost.push(row - 1))\n        } else {\n          nextPost = ancienPos;\n        }\n        return nextPost;\n      })\n    }\n  }\n\n  function handleRight() {\n    setPlayerSprite(right)\n    if (!currentTileset[5].isCollider){\n      setCurrentCulumnPos(ancienPos => {\n        let nextPost:number[] = [];\n        //map[i] == Row; donc ici on check si map[i + 1] existe avant de faire row + 1\n        // ancienPos[2] reprensente la derniere ligne affiché donc ancienPos[2] + 1 est la prochaine. (c'est elle qui doit exister)\n        if (map[ancienPos[2] + 1]) {\n          ancienPos.forEach((row) => nextPost.push(row + 1))\n        } else {\n          nextPost = ancienPos;\n        }\n        return nextPost;\n      })\n    }\n  }\n\n  function handleLeft() {\n    setPlayerSprite(left)\n    if (!currentTileset[3].isCollider){\n      setCurrentCulumnPos(ancienPos => {\n        let nextPost:number[] = [];\n        if (map[ancienPos[0] - 1]) {\n          ancienPos.forEach((row) => nextPost.push(row - 1))\n        } else {\n          nextPost = ancienPos;\n        }\n        return nextPost;\n      })\n    }\n  }\n\n\n  return (\n    <div>\n      <TileRenderer\n        renderedTiles={currentTileset}\n        sprite={playerSprite}\n      />\n      <Controls\n        onLeftClick={handleLeft}\n        onRightClick={handleRight}\n        onUpClick={handleUp}\n        onDownClick={handleDown}\n      />\n    </div>\n  )\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAE9JREFUKJGlUEEKACAIa9H/v7wOJeKwDPKiuLGNtfY78JMMAIQQYafgBBulVxmGeqpaqZAQgAOBNPmdH1eLoodo8zbkymDb/qGHvE/R0DwTqxgiCU7sLg0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAFRJREFUKJGlkEsKACAIRFW8/5VtUeYHxSA3ifNmlAB+C7URCWNMQJQ9grVsCE03cB1sqWNCAMyfgC3gPdgfTb33KNZ2X/Vae7eIvjrnCm3i1eX9AAtvqCIJeHpv4AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAXNSR0IArs4c6QAAAENJREFUKJFjYKAUMMIY//+jCDOiKUCVRlbCiF0aoYSJkBsGgwLivImpBBFQBAHcCkZGhBmMjP//w8wg6EgkADMB1TUA7McUD917vlEAAAAASUVORK5CYII=\"","import React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { Tile, TileKeys } from 'store/Map.context';\n\nconst useStyles = createUseStyles({\n  superroot:{\n    position: 'absolute',\n    zIndex: 100,\n  },\n  root:{\n    display: 'flex',\n    flexDirection:'column',\n    width: 300,\n    height: 300,\n    background: 'lightgray',\n    opacity: 0.7,\n    color: 'black'\n  }\n})\n\nexport interface EditPannelProps {\n  currentTileParameter: Tile;\n  onEditValidation: (key: TileKeys, value: any) => void;\n  pos: {x: number, y:number}\n}\nexport const EditPannel:React.FC<EditPannelProps> = ({\n  currentTileParameter, onEditValidation, pos, children\n}) => {\n  const classes = useStyles();\n  function handleParametersInput(keyname: string, value: any){\n    onEditValidation(keyname as TileKeys, value)\n  }\n  const TileParameter:React.FC<{keyname: string, value: any}> = ({\n    keyname, value\n  }) => {\n\n    //hard coded bc of lack of time\n    function ParameterInput():JSX.Element{\n      if (typeof(value)== 'boolean'){\n        return (\n          <>\n            <button\n              onClick={() => handleParametersInput(keyname, true)}\n            >\n              true\n            </button>\n            <button\n              onClick={() => handleParametersInput(keyname, false)}\n            >\n              false\n            </button>\n          </>\n        )\n      } else if(keyname === 'type') {\n        const possibleValues= ['empty','wall', 'corner']\n        return (\n          <div>\n            {possibleValues.map((value) => <button onClick={() => handleParametersInput(keyname, value) }>{value}</button>)}\n          </div>\n        )\n      }  else if(keyname === 'rotation') {\n        const possibleValues= [0, 90, 180, -90]\n        return (\n          <div>\n            {possibleValues.map((value) => <button onClick={() => handleParametersInput(keyname, value) }>{value}</button>)}\n          </div>\n        )\n      } else if(keyname === 'theme') {\n        const possibleValues= ['default', 'PARTY', 'PHONE', 'OFFICE']\n        return (\n          <div>\n            {possibleValues.map((value) => <button onClick={() => handleParametersInput(keyname, value) }>{value}</button>)}\n          </div>\n        )\n      } else if(keyname === 'event') {\n        const possibleValues= ['none', 'party_invite']\n        return (\n          <div>\n            {possibleValues.map((value) => <button onClick={() => handleParametersInput(keyname, value) }>{value}</button>)}\n          </div>\n        )\n      } else {\n        return <div></div>\n      }\n    }\n\n    return (\n      <div style={{display:'flex', flexDirection:'column'}}>\n        <p>{keyname}</p>\n        <div style={{display: 'flex'}}>\n          {ParameterInput()}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className={classes.superroot} style={{left: pos.x, top: pos.y}}>\n      <div className={classes.root}>\n        {Object.entries(currentTileParameter).map((keyValuePair) => {\n          return(\n          <TileParameter key={keyValuePair[0]} keyname={keyValuePair[0]} value={keyValuePair[1]}/>\n        )}\n        )}\n        {children}\n      </div>\n    </div>\n  )\n}","import { TileComponent } from 'components/Tile';\nimport React, { useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FullMapInfo, TileKeys } from 'store/Map.context';\nimport { EditPannel } from './EditPannel';\nexport interface MapCreatorProps {\n  onTileChange: (position: {row: number, column: number}, key: TileKeys, value: any) => void\n}\n\nexport const MapCreator:React.FC<MapCreatorProps> = ({\n  onTileChange,\n}) => {\n  const map = useContext(FullMapInfo);\n  const [selectedTile, setSelectedTile] = useState({row: 0, column: 0})\n  const [valueSelector, setValueSelector] = useState(false)\n  const [mousePos, setMousePos] = useState({x:0, y:0})\n\n  const handleTileClick = (e:React.MouseEvent, row:number, column:number) => {\n    setSelectedTile({\n      row: row,\n      column: column\n    });\n    setMousePos({x:e.clientX, y:e.clientY})\n    setValueSelector(true);\n  }\n\n  function handleValueSelectorClick(key: TileKeys, value: string):void {\n    onTileChange(selectedTile, key, value);\n  }\n  function onCloseClick() {\n    setValueSelector(false)\n  }\n  \n  return (\n    <>\n      {\n      valueSelector && \n        <div style={{\n            position: 'absolute',\n            left: 10,\n            top: 10,\n            zIndex: 100,\n            background: 'darkgreen',\n            color: 'white'\n          }}\n        >\n          <EditPannel\n            pos={mousePos}\n            currentTileParameter={map[selectedTile.row][selectedTile.column]}\n            onEditValidation={handleValueSelectorClick}\n          >\n            <button onClick={onCloseClick}>close</button>\n          </EditPannel>\n        </div>\n      }\n      <div style={{display: 'flex', flexDirection: 'column', overflow: 'scroll'}}>\n        {map.map((row, rowIndex) => (\n          <div key={rowIndex} style={{display: 'flex'}}>\n            {row.map((tile, columnIndex) =>\n              <div\n                key={columnIndex}\n                style={{width:100, height:100, fontSize: 8, display: 'flex', flexDirection:'column'}}\n                onClick={(e) => handleTileClick(e, rowIndex, columnIndex)}\n              >\n                <div style={{display:'flex'}}>\n                  isCollider: <div style={{height: 8, width: 8, background: tile.isCollider ? 'red' : 'green'}}/>\n                </div>\n                <div style={{display:'flex'}}>\n                  type: {tile.type}\n                </div>\n                <div style={{display:'flex'}}>\n                  rotation: {tile.rotation}\n                </div>\n                <div style={{height: 30, width:30}}>i²  \n                  <TileComponent {...tile} />\n                </div>\n                <div style={{display:'flex'}}>\n                  theme: {tile.theme}\n                </div>\n                <div style={{display:'flex'}}>\n                  event: {tile.event}\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n      <Link to='/'>\n        Test the map\n      </Link>\n    </>\n  )\n}","import officeSound from 'assets/sounds/officeSound.ogg';\nimport partySound from 'assets/sounds/partySound1.ogg';\nimport phoneSound from 'assets/sounds/phone.mp3';\nimport { Game } from 'components/Game';\nimport { map } from 'data/map.data.json';\nimport React, { useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport { FullMapInfo, Map, TileKeys } from 'store/Map.context';\nimport { MapCreator } from 'tool/MapCreator';\nimport useSound from 'use-sound';\n\n\n\nconst useStyles = createUseStyles({\n  root: {\n    display: 'flex',\n    alignItems:'center',\n    justifyContent:'center',\n    flexDirection: 'column',\n    width:'100vw',\n    height:'100vh',\n    background: 'black',\n    color: 'white',\n  },\n  textContainer: {\n    boxSizing: 'border-box',\n    padding: 16,\n    width: 332,\n    height: 100,\n    border: '6px solid #FFFFFF',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 24,\n    '& > p ': {\n      margin:0,\n      padding:0,\n    }\n  }\n})\n\n\nfunction App() {\n  const classes = useStyles();\n\n  const [ currentMap, setCurrentMap ] = useState<Map>(map);\n  const [dataStr, setDataStr] = useState('');\n  const [currentPhrase, setCurrentPhrase]= useState({author:'', content:''});\n  \n  function handleMapModification(tilePos: {row: number, column: number}, key: TileKeys, value: any) {\n    console.log(tilePos,key, value);\n    setCurrentMap((map) => {\n      let ancienMap = map;\n      ancienMap[tilePos.row][tilePos.column][key] = value as never;\n      setDataStr(\"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(ancienMap)));\n\n      return ancienMap;\n    })\n  }\n  const [playParty, {stop: stopParty}] = useSound(partySound, {volume: 0.3})\n  const [playOffice, {stop: stopOffice}] = useSound(officeSound, {volume: 0.3})\n  const [playPhone, {stop: stopPhone}] = useSound(phoneSound, {volume: 0.5})\n\n  function handleGameEvent(type: string, content: Record<string,any>){\n    console.log(type, content)\n    let currentPhrase = {author: '', content:''}\n    if (type === 'script') {\n      currentPhrase = {author: content.author, content: content.script}\n    }\n    if (type === 'themeChange') {\n      if (content.theme === 'PARTY') {\n        playParty();\n      } else if (content.theme === 'PHONE') {\n        playPhone();\n      } else if (content.theme === 'OFFICE') {\n        playOffice();\n      }else {\n        stopOffice();\n        stopPhone();\n        stopParty();\n      }\n    }\n    setCurrentPhrase(currentPhrase)\n  }\n  \n  return (\n    <div className={classes.root}>\n      <FullMapInfo.Provider value={currentMap}>\n        <Switch>\n          <Route path='/' exact>\n            <div\n              className={classes.textContainer}\n              style={{visibility: currentPhrase.author === '' ? 'hidden' : 'visible'}}\n            >\n              {\n                currentPhrase.author !== '' && \n                <p>\n                  {currentPhrase.author} : {currentPhrase.content}\n                </p>\n              }\n            </div>\n            <Game onEvent={handleGameEvent} spawn={[[0,1,2], [0,1,2]]}/>\n            <Link to='/editor' style={{position: 'absolute', color:'white', opacity: 0.2, bottom: 10, textDecoration: 'none' }}>\n              Map editor\n            </Link>\n          </Route>\n          <Route path='/editor'>\n            <MapCreator\n              onTileChange={handleMapModification}\n            />\n            <a style={{position: 'absolute', bottom: 10, right: 10, background: 'red'}} type='button' href={dataStr} download={'map.json'}>\n              Export\n            </a>\n          </Route>\n        </Switch>\n      </FullMapInfo.Provider>\n    </div> \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}